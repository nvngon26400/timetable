<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Table</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        body {
            padding: 20px;
            background-color: #f8f9fa;
        }

        .container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 20px;
        }

        table {
            width: 100%;
        }

        th,
        td {
            text-align: center;
        }

        th {
            background-color: #007bff;
            color: #fff;
        }

        td {
            cursor: pointer;
            transition: background-color 0.3s;
        }

        td:hover {
            background-color: #f8d7da;
        }

        .modal-content {
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        @media (max-width: 1200px) {

            th,
            td {
                font-size: 0.9em;
            }
        }

        @media (max-width: 992px) {

            th,
            td {
                font-size: 0.8em;
            }
        }

        @media (max-width: 768px) {

            th,
            td {
                font-size: 0.7em;
            }

            .container {
                padding: 10px;
            }

            .modal-dialog {
                max-width: 90%;
            }
        }

        @media (max-width: 576px) {

            th,
            td {
                font-size: 0.6em;
            }

            .container {
                padding: 10px;
            }

            .modal-dialog {
                max-width: 90%;
            }

            table {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <h2 class="mt-4 mb-4">L·ªãch D·∫°y C·ªßa T√¥ üë®‚Äçüè´</h2>
        <p class="alert alert-warning font-weight-bold" id="current-date-time"></p>

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Th·ªùi gian</th>
                    <th scope="col">Th·ª© Hai</th>
                    <th scope="col">Th·ª© Ba</th>
                    <th scope="col">Th·ª© T∆∞</th>
                    <th scope="col">Th·ª© NƒÉm</th>
                    <th scope="col">Th·ª© S√°u</th>
                    <th scope="col">Th·ª© B·∫£y</th>
                    <th scope="col">Ch·ªß Nh·∫≠t</th>
                </tr>
            </thead>
            <tbody>
                <!-- Rows for each time slot -->
                <tr>
                    <th scope="row">8:00 AM</th>
                    <td id="monday-8am"></td>
                    <td id="tuesday-8am"></td>
                    <td id="wednesday-8am"></td>
                    <td id="thursday-8am"></td>
                    <td id="friday-8am"></td>
                    <td id="saturday-8am"></td>
                    <td id="sunday-8am"></td>
                </tr>
                <tr>
                    <th scope="row">9:00 AM</th>
                    <td id="monday-9am"></td>
                    <td id="tuesday-9am"></td>
                    <td id="wednesday-9am"></td>
                    <td id="thursday-9am"></td>
                    <td id="friday-9am"></td>
                    <td id="saturday-9am"></td>
                    <td id="sunday-9am"></td>
                </tr>
                <tr>
                    <th scope="row">10:00 AM</th>
                    <td id="monday-10am"></td>
                    <td id="tuesday-10am"></td>
                    <td id="wednesday-10am"></td>
                    <td id="thursday-10am"></td>
                    <td id="friday-10am"></td>
                    <td id="saturday-10am"></td>
                    <td id="sunday-10am"></td>
                </tr>
                <tr>
                    <th scope="row">11:00 AM</th>
                    <td id="monday-11am"></td>
                    <td id="tuesday-11am"></td>
                    <td id="wednesday-11am"></td>
                    <td id="thursday-11am"></td>
                    <td id="friday-11am"></td>
                    <td id="saturday-11am"></td>
                    <td id="sunday-11am"></td>
                </tr>
                <tr>
                    <th scope="row">12:00 PM</th>
                    <td id="monday-12pm"></td>
                    <td id="tuesday-12pm"></td>
                    <td id="wednesday-12pm"></td>
                    <td id="thursday-12pm"></td>
                    <td id="friday-12pm"></td>
                    <td id="saturday-12pm"></td>
                    <td id="sunday-12pm"></td>
                </tr>
                <tr>
                    <th scope="row">1:00 PM</th>
                    <td id="monday-1pm"></td>
                    <td id="tuesday-1pm"></td>
                    <td id="wednesday-1pm"></td>
                    <td id="thursday-1pm"></td>
                    <td id="friday-1pm"></td>
                    <td id="saturday-1pm"></td>
                    <td id="sunday-1pm"></td>
                </tr>
                <tr>
                    <th scope="row">2:00 PM</th>
                    <td id="monday-2pm"></td>
                    <td id="tuesday-2pm"></td>
                    <td id="wednesday-2pm"></td>
                    <td id="thursday-2pm"></td>
                    <td id="friday-2pm"></td>
                    <td id="saturday-2pm"></td>
                    <td id="sunday-2pm"></td>
                </tr>
                <tr>
                    <th scope="row">3:00 PM</th>
                    <td id="monday-3pm"></td>
                    <td id="tuesday-3pm"></td>
                    <td id="wednesday-3pm"></td>
                    <td id="thursday-3pm"></td>
                    <td id="friday-3pm"></td>
                    <td id="saturday-3pm"></td>
                    <td id="sunday-3pm"></td>
                </tr>
                <tr>
                    <th scope="row">4:00 PM</th>
                    <td id="monday-4pm"></td>
                    <td id="tuesday-4pm"></td>
                    <td id="wednesday-4pm"></td>
                    <td id="thursday-4pm"></td>
                    <td id="friday-4pm"></td>
                    <td id="saturday-4pm"></td>
                    <td id="sunday-4pm"></td>
                </tr>
                <tr>
                    <th scope="row">5:00 PM</th>
                    <td id="monday-5pm"></td>
                    <td id="tuesday-5pm"></td>
                    <td id="wednesday-5pm"></td>
                    <td id="thursday-5pm"></td>
                    <td id="friday-5pm"></td>
                    <td id="saturday-5pm"></td>
                    <td id="sunday-5pm"></td>
                </tr>
                <tr>
                    <th scope="row">6:00 PM</th>
                    <td id="monday-6pm"></td>
                    <td id="tuesday-6pm"></td>
                    <td id="wednesday-6pm"></td>
                    <td id="thursday-6pm"></td>
                    <td id="friday-6pm"></td>
                    <td id="saturday-6pm"></td>
                    <td id="sunday-6pm"></td>
                </tr>
                <tr>
                    <th scope="row">7:00 PM</th>
                    <td id="monday-7pm"></td>
                    <td id="tuesday-7pm"></td>
                    <td id="wednesday-7pm"></td>
                    <td id="thursday-7pm"></td>
                    <td id="friday-7pm"></td>
                    <td id="saturday-7pm"></td>
                    <td id="sunday-7pm"></td>
                </tr>
                <tr>
                    <th scope="row">8:00 PM</th>
                    <td id="monday-8pm"></td>
                    <td id="tuesday-8pm"></td>
                    <td id="wednesday-8pm"></td>
                    <td id="thursday-8pm"></td>
                    <td id="friday-8pm"></td>
                    <td id="saturday-8pm"></td>
                    <td id="sunday-8pm"></td>
                </tr>
                <tr>
                    <th scope="row">9:00 PM</th>
                    <td id="monday-9pm"></td>
                    <td id="tuesday-9pm"></td>
                    <td id="wednesday-9pm"></td>
                    <td id="thursday-9pm"></td>
                    <td id="friday-9pm"></td>
                    <td id="saturday-9pm"></td>
                    <td id="sunday-9pm"></td>
                </tr>
            </tbody>

        </table>

        <!-- Add New Task Modal -->
        <div class="modal" id="addTaskModal">
            <div class="modal-dialog">
                <div class="modal-content">

                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Th√™m m·ªõi l·ªãch d·∫°y</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- Modal Body -->
                    <div class="modal-body">
                        <form id="taskForm">
                            <div class="form-group">
                                <label for="taskName">T√™n h·ªçc sinh ho·∫∑c l·ªõp h·ªçc</label>
                                <input type="text" class="form-control" id="taskName" required>
                            </div>
                            <div class="form-group">
                                <label for="taskStatus">ƒê√£ ho√†n th√†nh ti·∫øt d·∫°y hay ch∆∞a ?</label>
                                <select class="form-control" id="taskStatus">
                                    <option value="not-completed">ƒê√£ ho√†n th√†nh / Xong ti·∫øt</option>
                                    <option value="completed">Ch∆∞a ho√†n th√†nh / H·ªßy ti·∫øt</option>
                                </select>
                            </div>
                            <button type="button" class="btn btn-success" id="addTaskBtn" onclick="addTask()">Th√™m m·ªõi /
                                C·∫≠p nh·∫≠t
                                l·∫°i</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {
            // Function to open the add task modal
            function openAddTaskModal(day, time) {
                $('#selectedDay').val(day);
                $('#selectedTime').val(time);

                $('#addTaskModal').modal('show');
                $('#addTaskModal').on('hidden.bs.modal', function () {
                    $('#taskForm')[0].reset();
                });

                // Submit form to add task
                $('#addTaskBtn').click(function () {
                    var taskName = $('#taskName').val();
                    var taskStatus = $('#taskStatus').val();

                    $('#' + day + '-' + time).html(taskName + ' (' + taskStatus + ')');
                    $('#addTaskModal').modal('hide');
                });
            }

            // Open add task modal on cell click
            $('td').click(function () {
                var day = $(this).closest('tr').find('th').text().toLowerCase();
                var time = $(this).closest('tr').find('th').attr('scope').toLowerCase();

                openAddTaskModal(day, time);
            });

            // Open add task modal on "Add Task" button click
            $('#addTaskBtn').click(function () {
                var day = $('#selectedDay').val();
                var time = $('#selectedTime').val();

                openAddTaskModal(day, time);
            });
        });
    </script>

    <script>
        function addTask() {
            // L·∫•y gi√° tr·ªã t·ª´ c√°c input trong modal
            var taskName = $('#taskName').val();
            var taskStatus = $('#taskStatus').val();
            var selectedDay = $('#selectedDay').val();
            var selectedTime = $('#selectedTime').val();

            // Ki·ªÉm tra xem t√™n task c√≥ ƒë∆∞·ª£c nh·∫≠p hay kh√¥ng
            if (!taskName) {
                alert('Vui l√≤ng nh·∫≠p t√™n h·ªçc sinh ho·∫∑c l·ªõp h·ªçc.');
                return;
            }

            // C·∫≠p nh·∫≠t table v·ªõi th√¥ng tin m·ªõi
            $('#' + selectedDay + '-' + selectedTime).html(taskName + ' (' + taskStatus + ')');

            // C·∫≠p nh·∫≠t options trong select box ƒë·ªÉ tr√°nh tr√πng l·∫∑p
            $('#taskStatus option[value="' + taskStatus + '"]').remove();
            $('#taskStatus').append('<option value="' + taskStatus + '">' + (taskStatus === 'not-completed' ? 'ƒê√£ ho√†n th√†nh / Xong ti·∫øt' : 'Ch∆∞a ho√†n th√†nh / H·ªßy ti·∫øt') + '</option>');

            // Hi·ªÉn th·ªã th√¥ng b√°o th√†nh c√¥ng
            alert('Th√™m m·ªõi l·ªãch d·∫°y th√†nh c√¥ng.');


            console.log(taskName);
            console.log(taskStatus);
            // ·∫®n modal
            $('#addTaskModal').modal('hide');
        }
    </script>


    <script>
        function updateCurrentDateTime() {
            var currentDateTimeElement = document.getElementById('current-date-time');
            var currentDateTime = new Date();
            var hours = currentDateTime.getHours();
            var minutes = currentDateTime.getMinutes();
            var seconds = currentDateTime.getSeconds();
            var day = currentDateTime.getDate();
            var month = currentDateTime.getMonth() + 1; // Th√°ng b·∫Øt ƒë·∫ßu t·ª´ 0
            var year = currentDateTime.getFullYear();

            // ƒê·ªãnh d·∫°ng gi·ªù, ph√∫t, gi√¢y ƒë·ªÉ c√≥ hai ch·ªØ s·ªë
            hours = (hours < 10) ? '0' + hours : hours;
            minutes = (minutes < 10) ? '0' + minutes : minutes;
            seconds = (seconds < 10) ? '0' + seconds : seconds;

            // ƒê·ªãnh d·∫°ng ng√†y, th√°ng, nƒÉm ƒë·ªÉ c√≥ hai ch·ªØ s·ªë
            day = (day < 10) ? '0' + day : day;
            month = (month < 10) ? '0' + month : month;

            // Hi·ªÉn th·ªã ng√†y v√† th·ªùi gian
            currentDateTimeElement.textContent =  'H√¥m nay ng√†y ' + day + '/' + month + '/' + year + ' ' + ' v√† hi·ªán t·∫°i l√† ' + hours + ':' + minutes + ':' + seconds;
        }

        // C·∫≠p nh·∫≠t th·ªùi gian m·ªói gi√¢y
        setInterval(updateCurrentDateTime, 1000);

        // G·ªçi l·∫ßn ƒë·∫ßu ƒë·ªÉ hi·ªÉn th·ªã ngay t·ª´ ƒë·∫ßu
        updateCurrentDateTime();
    </script>
</body>

</html>